<h3>Create Patient</h3>

<div [hidden]="!error"
     class="alert alert-danger">
  Something went wrong. Please, try again later.
</div>

<div [hidden]="!submitted">
  <h4>Patient saved successfully</h4>
</div>

<div [hidden]="submitted || error" style="width: 400px;">

  <form (ngSubmit)="onSubmit()" #patientForm="ngForm">
    <div class="form-group">
      <label for="firstName">First Name</label>
      <input type="text" class="form-control" id="firstName"
             required
             [(ngModel)]="patient.firstName" name="firstName"
             #firstName="ngModel"
      >
      <div [hidden]="firstName.valid"
           class="alert alert-danger">
        First name is required
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Last Name</label>
      <input type="text" class="form-control" id="lastName"
             required [(ngModel)]="patient.lastName" name="lastName"
             #lastName="ngModel"
      >
      <div [hidden]="lastName.valid"
           class="alert alert-danger">
        Last name is required
      </div>
    </div>

    <div class="form-group">
      <label for="sex">Sex</label>
      <select class="form-control" id="sex"
              required
              [(ngModel)]="patient.sex" name="sex"
              #sex="ngModel"
      >
        <option>M</option>
        <option>F</option>
      </select>
      <div [hidden]="sex.valid"
           class="alert alert-danger">
        Sex is required
      </div>
    </div>

    <div class="form-group">
      <label for="birthdate">Birthdate</label>
      <input type="date" max="{{this.today}}" class="form-control" id="birthdate"
             required [(ngModel)]="patient.birthdate" name="birthdate"
             #birthdate="ngModel"
      >
      <div [hidden]="birthdate.valid"
           class="alert alert-danger">
        Birthdate is required
      </div>
    </div>

    <div class="form-group">
      <label for="phoneNumber">Phone number</label>
      <input type="tel" class="form-control" id="phoneNumber"
             pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
             required
             [(ngModel)]="patient.phoneNumber" name="phoneNumber"
             #phoneNumber="ngModel"
      >
      <div [hidden]="phoneNumber.valid"
           class="alert alert-danger">
        Phone number must be 10 digits XXX-XXX-XXXX
      </div>
    </div>

    <div class="form-group">
      <label for="address">Address</label>
      <input type="text" class="form-control" id="address"
             required
             [(ngModel)]="patient.address" name="address"
             #address="ngModel"
      >
      <div [hidden]="address.valid"
           class="alert alert-danger">
        Address is required
      </div>
    </div>

    <button type="submit" class="btn btn-success" [disabled]="!patientForm.form.valid">Submit</button>
  </form>
</div>

<br>

<button (click)="list()" class="btn btn-primary">Back to patients List</button>

